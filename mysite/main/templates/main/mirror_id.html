{% extends 'main/base.html' %}

{% block title %} Edit To Do List {% endblock %}

{% block content %}
    <h1>Items in {{todo_list_name}}:</h1>
    <br>

    <!-- the form is needed because we need to pass info if when the user checks the checkbox
     or if they added a new item, etc.-->
    <form method="POST" action="#">
        {% csrf_token %}
        <ul>
            <!--looping inside the html file-->
            {% for item in todo_list_items %}

                {% if item.complete is False %}
                    <li>
                        <!--only show non-complete items-->
                        <!--<input type="checkbox" value="clicked" name="c{{item.id}}" checked>{{item.text}}-->

                        {{item.text}}
                        <span class="form-check">
                            <input class="form_check_input" type="checkbox" checked="checked" value="{{item.id}}" name="boxes">
                        </span>
                    </li>
                {% else %}
                    <!--items not yet completed -->
                    <!--<li><input type="checkbox" value="not_clicked" name="c{{item.id}}">{{item.text}}</li>-->

                    <li>

                        {{item.text}}
                        <span class="form-check">
                            <input class="form_check_input" type="checkbox" value="{{item.id}}" name="boxes">
                        </span>
                    </li>

                {% endif %}
            {% endfor %}


        </ul>
        <!--save looks at the check buttons and updates the database on the statuses of each item-->
        <button type="submit" name="save" value="save">Save</button>
        <input type="text" name="new_item_text">
        <!--takes the text from the text field and adds it to the DB-->
        <button type="submit" name="new_item" value="new_item">Add Item</button>
    </form>
{% endblock %}

